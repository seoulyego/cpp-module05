#include "ShrubberyCreationForm.hpp"
#include <fstream>

ShrubberyCreationForm::ShrubberyCreationForm(const std::string& target)
: AForm("ShrubberyCreationForm", 145, 137), target(target) {}

ShrubberyCreationForm::ShrubberyCreationForm(const ShrubberyCreationForm& object)
: AForm("ShrubberyCreationForm", 145, 137), target(object.getTarget()) {}

ShrubberyCreationForm::~ShrubberyCreationForm() {}

const std::string& ShrubberyCreationForm::getTarget() const {
	return this->target;
}

void ShrubberyCreationForm::execute(const Bureaucrat& executor) const {
	if (executor.getGrade() > this->getExecGrade()) {
		throw GradeTooLowException();
	}
	else if (this->getSigned() == false) {
		throw NotSignedException();
	}

	std::string filename;
	std::ofstream outfile;

	filename = this->getTarget() + "_shrubbery";
	outfile.open(filename.c_str());
	if (outfile.is_open() == false) {
		throw std::ios_base::failure("Failed to open.");
	}
	outfile
	<< " //\\\\\\    ||      /\\ ///\\\\\\//\\\\\\\\    /////\\\\////\\\\\\\\     || " << std::endl
	<< " //\\\\\\           //\\\\///\\\\///\\\\\\\\\\  //////\\////\\\\\\\\\\\\       " << std::endl
	<< " //\\\\\\\\          //\\\\///\\\\////\\\\\\\\\\\\ //////\\\\///\\\\\\\\\\\\      " << std::endl
	<< " //\\\\\\\\\\   /\\   ///\\\\\\//////\\\\\\/\\\\\\\\/////\\\\\\///\\\\\\\\\\\\       " << std::endl
	<< " //\\\\\\\\\\  //\\\\ ////\\\\\\\\///\\/\\\\//\\\\\\\\\\  //\\\\\\///\\\\\\\\\\\\       " << std::endl
	<< " //\\\\\\\\\\\\ //\\\\///\\/\\\\\\\\\\//\\\\\\\\//\\\\\\\\\\\\///\\\\\\///\\\\\\\\\\        " << std::endl
	<< " //\\\\\\\\\\\\///\\\\\\//\\\\/\\\\\\\\//\\\\\\///\\/\\\\\\\\///\\\\\\//\\\\\\\\\\\\        " << std::endl
	<< " \\|/\\   ////\\\\///\\//\\\\\\///\\\\\\/////\\/\\ ////\\\\//\\\\\\\\\\\\\\       " << std::endl
	<< " \\//\\\\  ////\\////\\\\/\\\\\\///\\\\//\\/////\\\\////\\\\//\\\\\\\\\\\\\\\\      " << std::endl
	<< " \\//\\\\  /////////\\\\///\\\\//\\///\\\\////\\\\///\\\\\\//\\\\\\\\\\\\\\\\     /" << std::endl
	<< " /\\/\\\\\\ /////////\\\\///\\\\//\\///\\\\////\\\\///\\\\\\//\\\\\\         //" << std::endl
	<< " /\\\\\\\\\\\\///\\//\\//\\////\\\\\\/\\///\\\\////\\\\///\\\\\\\\/\\\\\\        ///" << std::endl
	<< " /\\\\\\\\\\\\ //\\//\\\\//////\\\\\\/\\///\\\\\\///\\\\///\\\\\\\\/\\\\\\       ////" << std::endl
	<< " /\\\\\\\\/\\ //\\//\\\\//\\///\\\\//\\\\//\\\\\\///\\////\\\\\\\\\\\\\\\\\\      ////" << std::endl
	<< " /\\\\\\//\\\\/////\\///\\\\//\\\\//\\\\//\\\\\\\\///////\\\\\\/\\\\\\\\\\     /////" << std::endl
	<< " /\\\\\\//\\\\/////\\///\\\\\\/\\///\\\\//\\\\\\\\\\//////\\\\//\\\\\\    /\\/////\\" << std::endl
	<< " /\\\\\\//\\\\/////////\\\\\\\\\\///\\///\\\\\\\\\\//////\\///\\\\\\   //\\\\////\\" << std::endl
	<< " /\\\\\\///\\/////////\\\\\\\\\\///////\\\\\\\\ //////////\\\\\\\\ ///\\\\\\///\\" << std::endl
	<< " /\\\\\\///\\\\////////\\\\\\\\\\\\//////\\\\\\\\\\   ///////\\\\\\\\////\\/\\///\\" << std::endl
	<< " /\\\\ ///\\\\////////\\\\\\\\\\\\\\/////\\\\\\\\\\\\ ////////\\\\\\\\//////\\\\//\\" << std::endl
	<< " /\\\\\\///\\\\////////\\\\\\\\\\\\\\\\////\\\\\\\\\\\\/////////\\\\\\\\//////\\\\//\\" << std::endl
	<< " /\\\\////\\\\\\///////\\\\\\\\\\\\\\\\|  ||    //////////\\\\\\///////\\\\//\\" << std::endl
	<< " /\\/////\\\\\\\\//////\\\\\\\\\\\\               //////\\\\\\///////\\\\\\/\\" << std::endl
	<< " ///////\\\\\\\\\\    ||                    //////\\\\\\///////\\\\\\\\\\" << std::endl
	<< " ///////\\\\\\\\\\\\    /\\                        ||    /////\\\\\\\\\\" << std::endl
	<< " \\//////\\\\\\\\\\\\\\  //\\\\                /\\           /////\\\\\\/\\" << std::endl
	<< " \\\\/////\\\\\\\\\\\\\\  //\\\\               //\\\\         //////\\/\\/\\" << std::endl
	<< " \\\\/////\\\\\\\\\\\\\\ ///\\\\\\              //\\\\              |//\\\\\\" << std::endl
	<< " \\\\\\////\\\\\\\\\\\\\\ ///\\/\\             ///\\\\\\              //\\\\\\" << std::endl
	<< " \\\\\\   ||       /////\\\\           ////\\\\\\\\            ///\\\\\\" << std::endl
	<< " \\\\\\\\          /////\\\\\\        /\\ ////\\\\\\\\         /\\ ///\\\\\\" << std::endl
	<< " \\\\\\\\\\         /////\\\\\\\\      //\\\\////\\\\\\\\\\       //\\\\///\\\\\\" << std::endl
	<< " \\\\\\\\\\\\       //////\\\\\\\\\\    ///\\\\\\///\\\\\\\\\\\\      //\\\\///\\\\\\" << std::endl
	<< " \\\\\\\\\\/\\        //\\/\\\\\\\\\\\\  ////\\\\\\\\/\\\\\\\\\\\\\\      //\\\\///\\\\\\" << std::endl
	<< " |   //\\\\       //\\\\\\\\\\\\\\\\  ////\\\\\\//\\\\  /\\      ///\\\\\\//\\\\\\" << std::endl
	<< "    //\\\\\\/\\     //\\\\\\\\\\\\\\/\\/////\\\\\\//\\\\ ///\\    ////\\\\\\\\/\\\\\\" << std::endl
	<< "    //\\\\//\\\\    //\\\\\\\\\\\\//\\\\////\\\\\\//\\\\ ///\\\\   ////\\\\\\\\/\\\\\\" << std::endl
	<< "   ///\\\\//\\\\   ///\\\\\\\\\\\\//\\\\////\\\\\\/\\\\\\////\\\\ /\\////\\/\\\\\\|  " << std::endl
	<< "   ///\\\\/\\\\\\   ///\\\\\\\\\\///\\\\\\///\\\\//\\\\/////\\\\//\\\\/////\\\\\\ /\\" << std::endl
	<< "  //\\/\\//\\\\\\\\  /\\/\\\\| ////\\\\\\\\ ||///\\\\\\////\\\\//\\\\/////\\/\\//\\" << std::endl
	<< " ///\\\\///\\\\\\\\\\/\\\\\\\\\\  ////\\\\\\\\  /\\//\\\\\\\\///\\\\//\\\\///////\\\\/\\" << std::endl
	<< " ////\\\\//\\\\\\\\//\\\\\\\\\\\\ ////\\\\\\\\ //\\\\/\\\\\\\\///\\\\//\\\\///////\\\\/\\" << std::endl
	<< " ////\\\\\\/\\\\\\////\\\\\\   ////\\\\\\\\///\\\\\\\\\\\\\\///\\///\\\\\\//////\\\\\\\\" << std::endl
	<< " /////\\\\/\\\\/////\\\\\\\\  ////\\\\\\////\\\\\\\\\\\\\\\\//\\///\\\\\\///////\\\\\\" << std::endl
	<< " /////\\\\/\\\\/////\\\\\\\\\\    ||  ////\\\\\\\\\\\\\\\\ ||//\\\\\\\\///////\\\\\\" << std::endl
	<< " /////\\\\\\\\//////\\\\\\\\\\\\       ////\\\\\\\\\\\\\\\\   //\\\\\\////////\\\\\\" << std::endl
	<< " //\\//\\\\\\\\//////\\\\\\\\\\\\\\      ///\\\\\\\\\\      ///\\\\/\\ //////\\\\\\" << std::endl
	<< " //\\//\\\\\\\\\\/////\\\\\\\\\\/\\     ///\\\\\\\\\\\\\\    ////\\//\\\\//////\\\\\\" << std::endl
	<< " //\\//\\\\\\\\\\/////\\\\\\\\//\\\\   ////\\\\\\\\\\\\\\\\   ///////\\\\\\  ///\\\\\\" << std::endl
	<< " /////\\\\\\\\\\/////\\\\\\///\\\\\\    //\\\\\\\\    /\\////////\\\\\\ ////\\\\\\" << std::endl
	<< " /////\\\\\\\\\\/////\\\\////\\\\\\\\   //\\\\\\\\   //\\\\///////\\\\\\/////\\\\\\" << std::endl
	<< " /////\\\\\\\\\\    || ////\\\\\\\\  ///\\\\\\\\  ///\\\\\\//////\\\\\\\\////\\\\\\" << std::endl
	<< " /////\\\\\\\\        ////\\\\\\\\  ///\\\\\\\\  ///\\\\\\//////\\\\\\\\\\///\\\\\\" << std::endl
	<< " /////\\\\\\\\        ////\\\\\\\\  ///\\\\\\\\\\////\\\\\\\\ ////\\\\\\\\////\\\\\\" << std::endl
	<< " /////\\\\\\\\\\       ////\\\\\\\\ ////\\\\\\\\\\////\\\\\\\\ ////\\\\\\/////\\\\\\" << std::endl
	<< "  || ||          /////\\\\\\\\\\////\\\\\\\\/////\\\\\\\\\\   ||  /////\\\\\\" << std::endl
	<< "                     ||       ||  //////\\\\\\\\\\\\          ||  " << std::endl
	<< "                                  //////\\\\\\\\\\\\              " << std::endl
	<< "                                       ||                   " << std::endl;
	outfile.close();
}
